<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Car Admin | Marketplace</title>
  <link rel="stylesheet" href="/stylesheets/style.css">
</head>
<body>
  <%- include('../partials/navbar', { navItems, search: '' }) %>
  <main class="page">
    <section class="section-head">
      <div>
        <p class="eyebrow">Admin</p>
        <h1>Car management</h1>
        <p class="lede">Add cars and manage inventory. Only admins can see this view.</p>
      </div>
    </section>

    <section class="admin-grid">
      <div class="card">
        <h3>Add a car</h3>
        <form class="stack" action="/admin/cars" method="post">
          <label>Model<input required name="Model" placeholder="e.g., Civic"></label>
          <label>Brand<input required name="Brand" placeholder="e.g., Honda"></label>
          <label>Price<input required name="Price" type="number" min="0" step="0.01" placeholder="25000"></label>
          <input type="hidden" name="DealerID" value="1">
          <button class="btn primary" type="submit">Add car</button>
        </form>
      </div>

      <div class="card">
        <h3>Current inventory</h3>
        <div class="table">
          <div class="table-head">
            <span>Car</span>
            <span>Status</span>
            <span>Price</span>
            <span>Actions</span>
          </div>
          <% cars.forEach(function(car){ %>
            <div class="table-row">
              <span><strong><%= car.Model %></strong><br><span class="muted"><%= car.Brand %></span></span>
              <span><span class="status <%= car.Availability %>"><%= car.Availability %></span></span>
              <span>$<%= parseFloat(car.Price).toFixed(2) %></span>
              <span class="row-actions">
                <form action="/admin/cars/<%= car.CarID %>/delete" method="post" style="display:inline;">
                  <button class="btn danger" type="submit">Delete</button>
                </form>
              </span>
            </div>
          <% }) %>
        </div>
      </div>
    </section>
  </main>
</body>
</html>
